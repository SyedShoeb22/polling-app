{% extends "base.html" %}

{% block title %}Results: {{ poll.question }}{% endblock %}

{% block content %}
    <h1>Results for: {{ poll.question }}</h1>
    <p>Total Votes: {{ total_votes }}</p>
    <ul>
        {% for result in results_data %}
            <li>
                {{ result.text }}: {{ result.votes }} vote(s) ({{ result.percentage }}%)
                <div class="progress-bar-container">
                    <div class="progress-bar" style="width: {{ result.percentage }}%;">
                        Â 
                    </div>
                </div>
            </li>
        {% endfor %}
    </ul>
    <p><a href="{{ url_for('poll_detail', poll_id=poll.id) }}">Vote Again</a> (Note: this still allows multiple votes from same user)</p>
    <p><a href="{{ url_for('index') }}">Back to All Polls</a></p>
{% endblock %}